{"version":3,"file":"parasol.js","sources":["../src/api/init.js","../src/state/defaultConfig.js","../src/state/initState.js","../src/state/sideEffects.js","../src/bindEvents.js","../src/index.js"],"sourcesContent":["import { select, selectAll } from 'd3';\nimport ParCoords from 'parcoord-es';\n\n/**\n* Setup a new visualization.\n*\n* @param config\n* @returns {ps} a parasol closure\n*/\nconst init = (config) => {\n\t/**\n  * Create a visualization within a container. The selector can also be a d3 selection.\n  *\n  * @param selection a d3 selection\n  * @returns {ps} instance for chained api, compatible with parcoords api\n  */\n\tconst ps = function(selection) {\n\t\tselection = ps.selection = selectAll(selection);\n\n\t\t// store pc charts in array\n\t\tps.charts = [];\n\t\tselection\n\t\t\t.each( function(d,i) {\n\t\t\t\tps.charts[i] = ParCoords(config.chartOptions)(this);\n\t\t\t});\n\t\t// for chained api\n\t\treturn ps;\n\t};\n\t// for partial-application style programming\n\treturn ps;\n};\n\nexport default init;\n","const DefaultConfig = {\n\tdata: [],\n\tpartition: {}, // identifies which plots vars appear on\n\tdataView: false,\n\tgrid: false,\n\tgridOptions: {\n\t\tenableCellNavigation: true,\n\t\tenableColumnReorder: false,\n\t\tmultiColumnSort: false,\n\t\teditable: true,\n\t\tasyncEditorLoading: false,\n\t\tautoEdit: false\n\t},\n\tchartOptions: {},\n\tlinked: [], // list of linked objects\n\tbrushed: [], // union of all brushed data\n\tmarked: [], // union of all marked data\n\tselections: [], // union of brushed and marked\n};\n\nexport default DefaultConfig;\n","import { entries, keys, dispatch } from 'd3';\n\nimport DefaultConfig from './defaultConfig';\n\nconst initState = userConfig => {\n\tconst config = Object.assign({}, DefaultConfig, userConfig);\n\n\tconst eventTypes = [\n\t\t// 'render',\n\t\t// 'resize',\n\t\t// 'highlight',\n\t\t// 'mark',\n\t\t// 'brush',\n\t\t// 'brushend',\n\t\t// 'brushstart',\n\t\t// 'axesreorder',\n\t].concat(keys(config));\n\n\tconst events = dispatch.apply(this, eventTypes),\n\t\tflags = {\n\t\t\t// brushable: false,\n\t\t\t// reorderable: false,\n\t\t\t// axes: false,\n\t\t\t// interactive: false,\n\t\t\t// debug: false,\n\t\t};\n\t// xscale = scalePoint(),\n\t// dragging = {},\n\t// axis = axisLeft().ticks(5),\n\t// ctx = {},\n\t// canvas = {};\n\n\treturn {\n\t\tconfig,\n\t\tevents,\n\t\teventTypes,\n\t\tflags,\n\t};\n};\n\nexport default initState;\n","// side effects for setters\nimport { dispatch } from 'd3-dispatch';\n","// side effects for setters\nimport sideEffects from './state/sideEffects';\n","//css\nimport './parallel-coordinates.css';\n\n//misc\n\n\n//api\nimport init from './api/init';\n\nimport initState from './state/initState';\nimport bindEvents from './bindEvents';\nimport { version } from '../package.json';\n\n\nconst parasol = userConfig => {\n\tconst state = initState(userConfig);\n\tconst {\n\t\tconfig,\n\t\tevents,\n\t\tflags,\n\t} = state;\n\n\tconst ps = init(config);\n\n\t// bindEvents();\n\n\t// expose the state of the chart\n\tps.state = config;\n\tps.flags = flags;\n\tps.version = version;\n\n\n\treturn ps;\n};\n\nexport default parasol;\n"],"names":["init","config","ps","selection","selectAll","charts","each","d","i","ParCoords","chartOptions","DefaultConfig","data","partition","dataView","grid","gridOptions","enableCellNavigation","enableColumnReorder","multiColumnSort","editable","asyncEditorLoading","autoEdit","linked","brushed","marked","selections","initState","Object","assign","userConfig","eventTypes","concat","keys","events","dispatch","apply","flags","parasol","state","version"],"mappings":";;;;;;;;IAGA;;;;;;IAMA,IAAMA,OAAO,SAAPA,IAAO,CAACC,MAAD,EAAY;IACxB;;;;;;IAMA,KAAMC,KAAK,SAALA,EAAK,CAASC,SAAT,EAAoB;IAC9BA,cAAYD,GAAGC,SAAH,GAAeC,aAAUD,SAAV,CAA3B;;IAEA;IACAD,KAAGG,MAAH,GAAY,EAAZ;IACAF,YACEG,IADF,CACQ,UAASC,CAAT,EAAWC,CAAX,EAAc;IACpBN,MAAGG,MAAH,CAAUG,CAAV,IAAeC,UAAUR,OAAOS,YAAjB,EAA+B,IAA/B,CAAf;IACA,GAHF;IAIA;IACA,SAAOR,EAAP;IACA,EAXD;IAYA;IACA,QAAOA,EAAP;IACA,CArBD;;ICTA,IAAMS,gBAAgB;IACrBC,OAAM,EADe;IAErBC,YAAW,EAFU;IAGrBC,WAAU,KAHW;IAIrBC,OAAM,KAJe;IAKrBC,cAAa;IACZC,wBAAsB,IADV;IAEZC,uBAAqB,KAFT;IAGZC,mBAAiB,KAHL;IAIZC,YAAU,IAJE;IAKZC,sBAAoB,KALR;IAMZC,YAAU;IANE,EALQ;IAarBZ,eAAc,EAbO;IAcrBa,SAAQ,EAda;IAerBC,UAAS,EAfY;IAgBrBC,SAAQ,EAhBa;IAiBrBC,aAAY,EAjBS;IAAA,CAAtB;;;;ICIA,IAAMC,YAAY,SAAZA,SAAY,aAAc;IAC/B,KAAM1B,SAAS2B,OAAOC,MAAP,CAAc,EAAd,EAAkBlB,aAAlB,EAAiCmB,UAAjC,CAAf;;IAEA,KAAMC,aAAa;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IARkB,GASjBC,MATiB,CASVC,QAAKhC,MAAL,CATU,CAAnB;;IAWA,KAAMiC,SAASC,YAASC,KAAT,CAAe,KAAf,EAAqBL,UAArB,CAAf;IAAA,KACCM,QAAQ;IACP;IACA;IACA;IACA;IACA;IALO,EADT;IAQA;IACA;IACA;IACA;IACA;;IAEA,QAAO;IACNpC,gBADM;IAENiC,gBAFM;IAGNH,wBAHM;IAINM;IAJM,EAAP;IAMA,CAlCD;;ICJA;;ICAA;;;;ICAA;AACA;IAaA,IAAMC,UAAU,SAAVA,OAAU,aAAc;IAC7B,KAAMC,QAAQZ,UAAUG,UAAV,CAAd;IAD6B,KAG5B7B,MAH4B,GAMzBsC,KANyB,CAG5BtC,MAH4B;IAAA,KAI5BiC,MAJ4B,GAMzBK,KANyB,CAI5BL,MAJ4B;IAAA,KAK5BG,KAL4B,GAMzBE,KANyB,CAK5BF,KAL4B;;;IAQ7B,KAAMnC,KAAKF,KAAKC,MAAL,CAAX;;IAEA;;IAEA;IACAC,IAAGqC,KAAH,GAAWtC,MAAX;IACAC,IAAGmC,KAAH,GAAWA,KAAX;IACAnC,IAAGsC,OAAH,GAAaA,OAAb;;IAGA,QAAOtC,EAAP;IACA,CAnBD;;;;;;;;"}